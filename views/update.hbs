<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>Update Restaurant</title>
</head>

<body>
    {{!-- ?page=1&perPage=5&borough=Bronx --}}

    <div class="container ">

        <form class="p-4" method="post" action="update">

            <h1 class="mb-3">Update the Restaurant</h1>
            <div class="row">
                <div class="col-6">
                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" id="restaurantId" name="restaurantId"
                            placeholder="restaurantId" value="{{data.restaurant_id}}">
                        <label for="restaurantId">Restaurant ID</label>
                    </div>
                </div>

                <div class="col-6">
                    <div class="form-floating">
                        <input type="text" class="form-control" id="restaurantName" name="restaurantName"
                            placeholder="restaurantName" value="{{{data.name}}}">
                        <label for="restaurantName">Restaurant Name</label>
                    </div>
                </div>
                <div class="col-6">
                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" id="cuisine" name="cuisine" placeholder="cuisine"
                            value="{{{data.cuisine}}}">
                        <label for="cuisine">cuisine</label>
                    </div>
                </div>
                <div class="col-6">
                    <div class="form-floating">
                        <input type="text" class="form-control" id="borough" name="borough" placeholder="borough"
                            value="{{{data.borough}}}">
                        <label for="borough">borough</label>
                    </div>
                </div>
                <div class="col-6">
                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" id="buildingNumber" name="buildingNumber"
                            placeholder="buildingNumber" value="{{{data.address.building}}}">
                        <label for="buildingNumber">building number</label>
                    </div>
                </div>
                <div class="col-6">
                    <div class="form-floating">
                        <input type="text" class="form-control" id="streetName" name="streetName"
                            placeholder="streetName" value="{{{data.address.street}}}">
                        <label for="streetName">street Name</label>
                    </div>
                </div>
                <div class="col-6">
                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" id="zipCode" name="zipCode" placeholder="zipCode"
                            value="{{{data.address.zipcode}}}">
                        <label for="zipCode">zip code</label>
                    </div>
                </div>
                <div class="w-100"></div>
                {{#each data.grades}}
                <div class="col-4">
                    <div class="form-floating">
                        <input type="text" class="form-control" id="gradingDate" name="gradingDate[]"
                            placeholder="gradingDate" value="{{{this.date}}}">
                        <label for="gradingDate"> Grading date</label>
                    </div>
                </div>
                <div class="col-4">
                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" id="grade" name="grade[]" placeholder="grade"
                            value="{{{this.grade}}}">
                        <label for="grade">Grade</label>
                    </div>
                </div>
                <div class="col-4">
                    <div class="form-floating">
                        <input type="text" class="form-control" id="score" name="score[]" placeholder="score"
                            value="{{{this.score}}}">
                        <label for="score">score</label>
                    </div>
                </div>
                {{/each}}
            </div>
            <input type="hidden" id="page" name="page" value="1">
            <input type="hidden" id="perPage" name="perPage" value="2">
            <input type="hidden" id="myBorough" name="myBorough" value="3">
            <button type="submit" class="btn btn-primary">Submit</button>

            <script>

                window.onload = function() {

                    const urlParams = new URLSearchParams(window.location.search);
                    const myParam = urlParams.get('page');

                let page = req.query.page;
                let perPage = req.query.perPage;
                let borough = req.query.myBorough;

                document.getElementById('page').value = myParam;
                document.getElementById('perPage').value = perPage;
                document.getElementById('myBorough').value = borough;
                }
            </script>
        </form>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous">
        </script>
</body>

</html>